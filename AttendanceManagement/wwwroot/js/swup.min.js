(function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Swup=b():a.Swup=b()})(window,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=2)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0}),b.Link=b.markSwupElements=b.getCurrentUrl=b.transitionEnd=b.fetch=b.getDataFromHtml=b.createHistoryRecord=b.classify=void 0;var e=c(8),f=d(e),g=c(9),h=d(g),i=c(10),j=d(i),k=c(11),l=d(k),m=c(12),n=d(m),o=c(13),p=d(o),q=c(14),r=d(q),s=c(15),t=d(s),u=b.classify=f.default,v=b.createHistoryRecord=h.default,w=b.getDataFromHtml=j.default,x=b.fetch=l.default,y=b.transitionEnd=n.default,z=b.getCurrentUrl=p.default,A=b.markSwupElements=r.default,B=b.Link=t.default},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=b.query=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return"string"==typeof a?b.querySelector(a):a},d=b.queryAll=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return"string"==typeof a?Array.prototype.slice.call(b.querySelectorAll(a)):a}},function(a,b,c){"use strict";var d=c(3),e=function(a){return a&&a.__esModule?a:{default:a}}(d);a.exports=e.default},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(4),i=d(h),j=c(6),k=d(j),l=c(7),m=d(l),n=c(16),o=d(n),p=c(17),q=d(p),r=c(18),s=d(r),t=c(19),u=d(t),v=c(20),w=d(v),x=c(21),y=d(x),z=c(22),A=d(z),B=c(23),C=c(1),D=c(0),E=function(){function a(b){e(this,a);var c={animateHistoryBrowsing:!1,animationSelector:"[class*=\"transition-\"]",linkSelector:"a[href^=\""+window.location.origin+"\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])",cache:!0,containers:["#swup"],requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},plugins:[],skipPopStateHandling:function(a){return!(a.state&&"swup"===a.state.source)}},d=f({},c,b);this._handlers={animationInDone:[],animationInStart:[],animationOutDone:[],animationOutStart:[],animationSkipped:[],clickLink:[],contentReplaced:[],disabled:[],enabled:[],openPageInNewTab:[],pageLoaded:[],pageRetrievedFromCache:[],pageView:[],popState:[],samePage:[],samePageWithHash:[],serverError:[],transitionStart:[],transitionEnd:[],willReplaceContent:[]},this.scrollToElement=null,this.preloadPromise=null,this.options=d,this.plugins=[],this.transition={},this.delegatedListeners={},this.boundPopStateHandler=this.popStateHandler.bind(this),this.cache=new k.default,this.cache.swup=this,this.loadPage=m.default,this.renderPage=o.default,this.triggerEvent=q.default,this.on=s.default,this.off=u.default,this.updateTransition=w.default,this.getAnimationPromises=y.default,this.getPageData=A.default,this.log=function(){},this.use=B.use,this.unuse=B.unuse,this.findPlugin=B.findPlugin,this.enable()}return g(a,[{key:"enable",value:function(){var a=this;if("undefined"==typeof Promise)return void console.warn("Promise is not supported");this.delegatedListeners.click=(0,i.default)(document,this.options.linkSelector,"click",this.linkClickHandler.bind(this)),window.addEventListener("popstate",this.boundPopStateHandler);var b=(0,D.getDataFromHtml)(document.documentElement.outerHTML,this.options.containers);b.url=b.responseURL=(0,D.getCurrentUrl)(),this.options.cache&&this.cache.cacheUrl(b),(0,D.markSwupElements)(document.documentElement,this.options.containers),this.options.plugins.forEach(function(b){a.use(b)}),window.history.replaceState(Object.assign({},window.history.state,{url:window.location.href,random:Math.random(),source:"swup"}),document.title,window.location.href),this.triggerEvent("enabled"),document.documentElement.classList.add("swup-enabled"),this.triggerEvent("pageView")}},{key:"destroy",value:function(){var a=this;this.delegatedListeners.click.destroy(),window.removeEventListener("popstate",this.boundPopStateHandler),this.cache.empty(),this.options.plugins.forEach(function(b){a.unuse(b)}),(0,C.queryAll)("[data-swup]").forEach(function(a){a.removeAttribute("data-swup")}),this.off(),this.triggerEvent("disabled"),document.documentElement.classList.remove("swup-enabled")}},{key:"linkClickHandler",value:function(a){if(a.metaKey||a.ctrlKey||a.shiftKey||a.altKey)this.triggerEvent("openPageInNewTab",a);else if(0===a.button){this.triggerEvent("clickLink",a),a.preventDefault();var b=new D.Link(a.delegateTarget);if(b.getAddress()!=(0,D.getCurrentUrl)()&&""!=b.getAddress()){""!=b.getHash()&&(this.scrollToElement=b.getHash());var c=a.delegateTarget.getAttribute("data-swup-transition");this.loadPage({url:b.getAddress(),customTransition:c},!1)}else if(""!=b.getHash()){this.triggerEvent("samePageWithHash",a);var d=document.querySelector(b.getHash());null==d?console.warn("Element for offset not found ("+b.getHash()+")"):history.replaceState({url:b.getAddress()+b.getHash(),random:Math.random(),source:"swup"},document.title,b.getAddress()+b.getHash())}else this.triggerEvent("samePage",a)}}},{key:"popStateHandler",value:function(a){if(!this.options.skipPopStateHandling(a)){var b=new D.Link(a.state?a.state.url:window.location.pathname);""===b.getHash()?a.preventDefault():this.scrollToElement=b.getHash(),this.triggerEvent("popState",a),this.loadPage({url:b.getAddress()},a)}}}]),a}();b.default=E},function(a,b,c){function d(a,b,c,d){return function(c){c.delegateTarget=f(c.target,b),c.delegateTarget&&d.call(a,c)}}var f=c(5);a.exports=function(a,b,c,e,f){var g=d.apply(this,arguments);return a.addEventListener(c,g,f),{destroy:function(){a.removeEventListener(c,g,f)}}}},function(a){if("undefined"!=typeof Element&&!Element.prototype.matches){var b=Element.prototype;b.matches=b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector}a.exports=function(a,b){for(;a&&a.nodeType!==9;){if("function"==typeof a.matches&&a.matches(b))return a;a=a.parentNode}}},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=b.Cache=function(){function a(){c(this,a),this.pages={},this.last=null}return d(a,[{key:"cacheUrl",value:function(a){!1==a.url in this.pages&&(this.pages[a.url]=a),this.last=this.pages[a.url],this.swup.log("Cache ("+Object.keys(this.pages).length+")",this.pages)}},{key:"getPage",value:function(a){return this.pages[a]}},{key:"getCurrentPage",value:function(){return this.getPage(window.location.pathname+window.location.search)}},{key:"exists",value:function(a){return a in this.pages}},{key:"empty",value:function(){this.pages={},this.last=null,this.swup.log("Cache cleared")}},{key:"remove",value:function(a){delete this.pages[a]}}]),a}();b.default=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},e=c(0);b.default=function(a,b){var c=this,f=[],g=void 0,h=function(){if(c.triggerEvent("animationOutStart"),document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("is-leaving"),document.documentElement.classList.add("is-animating"),b&&document.documentElement.classList.add("is-popstate"),document.documentElement.classList.add("to-"+(0,e.classify)(a.url)),f=c.getAnimationPromises("out"),Promise.all(f).then(function(){c.triggerEvent("animationOutDone")}),!b){var d;d=null==c.scrollToElement?a.url:a.url+c.scrollToElement,(0,e.createHistoryRecord)(d)}};this.triggerEvent("transitionStart",b),null==a.customTransition?this.updateTransition(window.location.pathname,a.url):(this.updateTransition(window.location.pathname,a.url,a.customTransition),document.documentElement.classList.add("to-"+(0,e.classify)(a.customTransition))),!b||this.options.animateHistoryBrowsing?h():this.triggerEvent("animationSkipped"),this.cache.exists(a.url)?(g=new Promise(function(a){a()}),this.triggerEvent("pageRetrievedFromCache")):this.preloadPromise&&this.preloadPromise.route==a.url?g=this.preloadPromise:g=new Promise(function(b,f){(0,e.fetch)(d({},a,{headers:c.options.requestHeaders}),function(d){if(500===d.status)return c.triggerEvent("serverError"),void f(a.url);var e=c.getPageData(d);if(null!=e)e.url=a.url;else return void f(a.url);c.cache.cacheUrl(e),c.triggerEvent("pageLoaded");b()})}),Promise.all(f.concat([g])).then(function(){c.renderPage(c.cache.getPage(a.url),b),c.preloadPromise=null}).catch(function(a){c.options.skipPopStateHandling=function(){return window.location=a,!0},window.history.go(-1)})}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a){var b=a.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return"/"===b[0]&&(b=b.splice(1)),""===b&&(b="homepage"),b}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a){window.history.pushState({url:a||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.getElementsByTagName("title")[0].innerText,a||window.location.href.split(window.location.hostname)[1])}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(1);b.default=function(a,b){var c=document.createElement("html");c.innerHTML=a;for(var f,g=[],h=function(a){return null==c.querySelector(b[a])?{v:null}:void(0,e.queryAll)(b[a]).forEach(function(d,f){(0,e.queryAll)(b[a],c)[f].setAttribute("data-swup",g.length),g.push((0,e.queryAll)(b[a],c)[f].outerHTML)})},j=0;j<b.length;j++)if(f=h(j),"object"===("undefined"==typeof f?"undefined":d(f)))return f.v;var k={title:c.querySelector("title").innerText,pageClass:c.querySelector("body").className,originalContent:a,blocks:g};return c.innerHTML="",c=null,k}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};b.default=function(a){var b=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],d={url:window.location.pathname+window.location.search,method:"GET",data:null,headers:{}},e=c({},d,a),f=new XMLHttpRequest;return f.onreadystatechange=function(){4===f.readyState&&(500===f.status?b(f):b(f))},f.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(a){f.setRequestHeader(a,e.headers[a])}),f.send(e.data),f}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(){var a=document.createElement("div"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(a.style[c]!==void 0)return b[c];return!1}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(){return window.location.pathname+window.location.search}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1);b.default=function(a,b){for(var c=0,e=function(e){null==a.querySelector(b[e])?console.warn("Element "+b[e]+" is not in current page."):(0,d.queryAll)(b[e]).forEach(function(f,g){(0,d.queryAll)(b[e],a)[g].setAttribute("data-swup",c),c++})},f=0;f<b.length;f++)e(f)}},function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b){c(this,a),b instanceof Element||b instanceof SVGElement?this.link=b:(this.link=document.createElement("a"),this.link.href=b)}return d(a,[{key:"getPath",value:function(){var a=this.link.pathname;return"/"!==a[0]&&(a="/"+a),a}},{key:"getAddress",value:function(){var a=this.link.pathname+this.link.search;return this.link.getAttribute("xlink:href")&&(a=this.link.getAttribute("xlink:href")),"/"!==a[0]&&(a="/"+a),a}},{key:"getHash",value:function(){return this.link.hash}}]),a}();b.default=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},e=c(1),f=c(0);b.default=function(a,b){var c=this;document.documentElement.classList.remove("is-leaving");var e=new f.Link(a.responseURL);window.location.pathname!==e.getPath()&&(window.history.replaceState({url:e.getPath(),random:Math.random(),source:"swup"},document.title,e.getPath()),this.cache.cacheUrl(d({},a,{url:e.getPath()}))),(!b||this.options.animateHistoryBrowsing)&&document.documentElement.classList.add("is-rendering"),this.triggerEvent("willReplaceContent",b);for(var g=0;g<a.blocks.length;g++)document.body.querySelector("[data-swup=\""+g+"\"]").outerHTML=a.blocks[g];if(document.title=a.title,this.triggerEvent("contentReplaced",b),this.triggerEvent("pageView",b),this.options.cache||this.cache.empty(),setTimeout(function(){(!b||c.options.animateHistoryBrowsing)&&(c.triggerEvent("animationInStart"),document.documentElement.classList.remove("is-animating"))},10),!b||this.options.animateHistoryBrowsing){var h=this.getAnimationPromises("in");Promise.all(h).then(function(){c.triggerEvent("animationInDone"),c.triggerEvent("transitionEnd",b),document.documentElement.className.split(" ").forEach(function(a){(/^to-/.test(a)||"is-changing"===a||"is-rendering"===a||"is-popstate"===a)&&document.documentElement.classList.remove(a)})})}else this.triggerEvent("transitionEnd",b);this.scrollToElement=null}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a,b){this._handlers[a].forEach(function(a){try{a(b)}catch(a){console.error(a)}});var c=new CustomEvent("swup:"+a,{detail:a});document.dispatchEvent(c)}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a,b){this._handlers[a]?this._handlers[a].push(b):console.warn("Unsupported event "+a+".")}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a,b){var c=this;if(!(null!=a))Object.keys(this._handlers).forEach(function(a){c._handlers[a]=[]});else if(null==b)this._handlers[a]=[];else if(this._handlers[a]&&this._handlers[a].filter(function(a){return a===b}).length){var d=this._handlers[a].filter(function(a){return a===b})[0],e=this._handlers[a].indexOf(d);-1<e&&this._handlers[a].splice(e,1)}else console.warn("Handler for event '"+a+"' no found.")}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.default=function(a,b,c){this.transition={from:a,to:b,custom:c}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=c(0);b.default=function(){var a=[],b=(0,d.queryAll)(this.options.animationSelector);return b.forEach(function(b){var c=new Promise(function(a){b.addEventListener((0,e.transitionEnd)(),function(c){b==c.target&&a()})});a.push(c)}),a}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0);b.default=function(a){var b=a.responseText,c=(0,d.getDataFromHtml)(b,this.options.containers);if(c)c.responseURL=a.responseURL?a.responseURL:window.location.href;else return console.warn("Received page is invalid."),null;return c}},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=b.use=function(a){return a.isSwupPlugin?(this.plugins.push(a),a.swup=this,"function"==typeof a._beforeMount&&a._beforeMount(),a.mount(),this.plugins):void console.warn("Not swup plugin instance "+a+".")},d=b.unuse=function(a){var b;if(b="string"==typeof a?this.plugins.find(function(b){return a===b.name}):a,!b)return void console.warn("No such plugin.");b.unmount(),"function"==typeof b._afterUnmount&&b._afterUnmount();var c=this.plugins.indexOf(b);return this.plugins.splice(c,1),this.plugins},e=b.findPlugin=function(a){return this.plugins.find(function(b){return a===b.name})}}])});const givenOptions={requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"}},swup=new Swup({plugins:[new SwupScriptsPlugin({head:!1,body:!0})],options:givenOptions});